<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>notes on Andrea Dainese</title><link>https://www.adainese.it/categories/notes/</link><description>Recent content in notes on Andrea Dainese</description><generator>Hugo -- gohugo.io</generator><language>en-US</language><lastBuildDate>Sun, 14 Aug 2022 00:00:00 +0000</lastBuildDate><atom:link href="https://www.adainese.it/categories/notes/index.xml" rel="self" type="application/rss+xml"/><item><title>Secured Bash environment</title><link>https://www.adainese.it/blog/2022/08/14/secured-bash-environment/</link><pubDate>Sun, 14 Aug 2022 00:00:00 +0000</pubDate><guid>https://www.adainese.it/blog/2022/08/14/secured-bash-environment/</guid><description>I always need to set critical environment variables on my Bash (API tokens), and of course, it&amp;rsquo;s a very bad idea to store them on .bashrc. I found a simple way to store them in an encrypted file loading it only when necessary:</description></item><item><title>Recover deleted photos with Kali Linux and TestDisk</title><link>https://www.adainese.it/blog/2022/08/13/recover-deleted-photos-with-kali-linux-and-testdisk/</link><pubDate>Sat, 13 Aug 2022 00:00:00 +0000</pubDate><guid>https://www.adainese.it/blog/2022/08/13/recover-deleted-photos-with-kali-linux-and-testdisk/</guid><description>A few days ago, my daughter has deleted by mistake some photos on her camera. It has been 10 years at least since I recovered deleted files last time, so I had to find out how to approach the problem in 2022 with Kali Linux.</description></item><item><title>Home phone call firewall</title><link>https://www.adainese.it/blog/2022/07/13/home-phone-call-firewall/</link><pubDate>Wed, 13 Jul 2022 00:00:00 +0000</pubDate><guid>https://www.adainese.it/blog/2022/07/13/home-phone-call-firewall/</guid><description>I have a &amp;ldquo;landline&amp;rdquo; VoIP number, used by my parents to reach me when my phone is turned off. Apparently, landlines number are preferred by spammers, so I wrote a simple firewall zero-trust configuration for my FRITZ!</description></item><item><title>Clean a Docker host</title><link>https://www.adainese.it/blog/2021/08/11/clean-a-docker-host/</link><pubDate>Wed, 11 Aug 2021 00:00:00 +0000</pubDate><guid>https://www.adainese.it/blog/2021/08/11/clean-a-docker-host/</guid><description>The following scripts allow cleaning a Docker host, and stopping and deleting containers and images.
Stop all containers:
#!/bin/bash CONTAINERS=$(docker ps -a | tail -n+2 | cut -d&amp;#34; &amp;#34; -f1) if [ &amp;#34;$CONTAINERS&amp;#34; == &amp;#34;&amp;#34; ]; then exit fi docker stop $CONTAINERS Stop and delete all containers:</description></item><item><title>Override a Docker container entry point</title><link>https://www.adainese.it/blog/2021/08/10/override-a-docker-container-entry-point/</link><pubDate>Tue, 10 Aug 2021 00:00:00 +0000</pubDate><guid>https://www.adainese.it/blog/2021/08/10/override-a-docker-container-entry-point/</guid><description>To debug a container or to access it, sometimes I need to override the entry point for a specific image:
docker run -it --entrypoint /bin/sh [docker_image]</description></item><item><title>Reinitialize a Git repository</title><link>https://www.adainese.it/blog/2021/03/07/reinitialize-a-git-repository/</link><pubDate>Sun, 07 Mar 2021 00:00:00 +0000</pubDate><guid>https://www.adainese.it/blog/2021/03/07/reinitialize-a-git-repository/</guid><description>Sometimes we realize we committed something that should remain confidential. Or maybe we are ready to publish our open source project and we don&amp;rsquo;t want to publish the entire history too.</description></item><item><title>Pi Zero W headless setup</title><link>https://www.adainese.it/blog/2021/01/03/pi-zero-w-headless-setup/</link><pubDate>Sun, 03 Jan 2021 00:00:00 +0000</pubDate><guid>https://www.adainese.it/blog/2021/01/03/pi-zero-w-headless-setup/</guid><description>To properly configure a Pi Zero W headless (without monitor and keyboard), burn a Raspberry OS (Raspbian) image into a SD card.
Insert the SD card again and browse the first partition where config.</description></item><item><title>Ansible with a bastion host (SSH Proxy)</title><link>https://www.adainese.it/blog/2020/08/14/ansible-with-a-bastion-host-ssh-proxy/</link><pubDate>Fri, 14 Aug 2020 00:00:00 +0000</pubDate><guid>https://www.adainese.it/blog/2020/08/14/ansible-with-a-bastion-host-ssh-proxy/</guid><description>On some Ansible designs, I need to use a bastion host to log in to remote servers. We can configure it in the following way:
on ansible.cfg file:
[defaults] timeout = 25 gathering = smart # utile ma non essenziale [ssh_connection] #ssh_args = -o ControlMaster=auto -o ControlPersist=600s ssh_args = -o ControlMaster=auto -o ControlPersist=600s -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=nocontrol_path = %(directory)s/%%h-%%r pipelining = True on the inventory file:</description></item><item><title>APT proxy with APT-Cacher NG</title><link>https://www.adainese.it/blog/2020/08/13/apt-proxy-with-apt-cacher-ng/</link><pubDate>Thu, 13 Aug 2020 00:00:00 +0000</pubDate><guid>https://www.adainese.it/blog/2020/08/13/apt-proxy-with-apt-cacher-ng/</guid><description>On large Linux Debian installations, I usually configure an APT proxy to optimize upgrades. I&amp;rsquo;m used to configuring APT-Cached NG in the following way:
on /etc/apt-cacher-ng/acng.conf file:
CacheDir: /proxydata/cache/apt-cacher-ng LogDir: /var/log/apt-cacher-ng SupportDir: /usr/lib/apt-cacher-ng Port:3142 Remap-debrep: file:deb_mirror*.</description></item><item><title>Let's Encrypt certificates with certbot</title><link>https://www.adainese.it/blog/2020/08/07/lets-encrypt-certificates-with-certbot/</link><pubDate>Fri, 07 Aug 2020 00:00:00 +0000</pubDate><guid>https://www.adainese.it/blog/2020/08/07/lets-encrypt-certificates-with-certbot/</guid><description>On my home Linux box, I implemented Let&amp;rsquo;s Encrypt to properly manage secure HTTPs connections. To properly configure it we need to:
Make the directory /.well-known reachable via HTTP and mapped locally under /var/www/html/.</description></item><item><title>MySQL/MariaDB User Management</title><link>https://www.adainese.it/blog/2019/07/09/mysql/mariadb-user-management/</link><pubDate>Tue, 09 Jul 2019 00:00:00 +0000</pubDate><guid>https://www.adainese.it/blog/2019/07/09/mysql/mariadb-user-management/</guid><description>I&amp;rsquo;m now a DB admin and I always forget how to manage MySQL/MariaDB users. Here are some self-notes to not search over and over the same topic on Google.
Delete user:</description></item><item><title>Find and recover deleted files on Git repository</title><link>https://www.adainese.it/blog/2018/09/19/find-and-recover-deleted-files-on-git-repository/</link><pubDate>Wed, 19 Sep 2018 00:00:00 +0000</pubDate><guid>https://www.adainese.it/blog/2018/09/19/find-and-recover-deleted-files-on-git-repository/</guid><description>Git repositories are very interesting from an OSInt perspective. There are a few commands to find out deleted files and recover them in seconds:
# Find deleted files git log --diff-filter D --pretty=&amp;#34;format:&amp;#34; --name-only | sed &amp;#39;/^$/d&amp;#39; &amp;gt; deleted_files.</description></item><item><title>Working with SNMP on Linux</title><link>https://www.adainese.it/blog/2017/03/29/working-with-snmp-on-linux/</link><pubDate>Wed, 29 Mar 2017 00:00:00 +0000</pubDate><guid>https://www.adainese.it/blog/2017/03/29/working-with-snmp-on-linux/</guid><description>Every time I need to work with Linux SNMP utilities, I have to re-learn some commands. This post summarizes useful SNMP commands for anyone who needs a reference guide.
Common options Usually, I need to build a custom and trusted MIB repository.</description></item><item><title>VRFs on Linux</title><link>https://www.adainese.it/blog/2016/11/29/vrfs-on-linux/</link><pubDate>Tue, 29 Nov 2016 00:00:00 +0000</pubDate><guid>https://www.adainese.it/blog/2016/11/29/vrfs-on-linux/</guid><description>VRF (Virtual Routing and Forwarding) allows having multiple and separated routing tables on the same system.
On Linux, VRF support has been started on 4.3 kernels. Ubuntu 16.04 brings 4.4 kernels but mind that 4.</description></item><item><title>802.1x on Cisco Catalyst 2950</title><link>https://www.adainese.it/blog/2014/07/17/802.1x-on-cisco-catalyst-2950/</link><pubDate>Thu, 17 Jul 2014 00:00:00 +0000</pubDate><guid>https://www.adainese.it/blog/2014/07/17/802.1x-on-cisco-catalyst-2950/</guid><description>A very short post about 802.1x (dot1x) on Cisco Catalyst 2950 series. Configure RADIUS and enable dot1x on the switch:
aaa authentication dot1x default group radius aaa accounting dot1x default start-stop group radius dot1x system-auth-control Then enable dot1x on all interfaces (additional security commands are added in the example below):</description></item><item><title>Chrooted SFTP</title><link>https://www.adainese.it/blog/2014/02/24/chrooted-sftp/</link><pubDate>Mon, 24 Feb 2014 00:00:00 +0000</pubDate><guid>https://www.adainese.it/blog/2014/02/24/chrooted-sftp/</guid><description>OpenSSH allows SSH/SFTP users to connect to the whole system by default. In many cases this is not the expected behavior: users should be relegated to the home their home directory only.</description></item><item><title>A Cisco device as a TFTP server</title><link>https://www.adainese.it/blog/2013/09/12/a-cisco-device-as-a-tftp-server/</link><pubDate>Thu, 12 Sep 2013 00:00:00 +0000</pubDate><guid>https://www.adainese.it/blog/2013/09/12/a-cisco-device-as-a-tftp-server/</guid><description>TFTP or Trivial File Transfer Protocol is a simple file transfer protocol. TFTP uses UDP port 69, no authentication or encryption is supported, and directory navigation is not possible. Three file transfer methods are available: netascii (or ASCII for text files), octet (or image for binary files), and mail (not used anymore).</description></item><item><title>Create email with attachment using BASH</title><link>https://www.adainese.it/blog/2013/08/12/create-email-with-attachment-using-bash/</link><pubDate>Mon, 12 Aug 2013 00:00:00 +0000</pubDate><guid>https://www.adainese.it/blog/2013/08/12/create-email-with-attachment-using-bash/</guid><description>I replaced most of my Bash script with Python but sometimes I still need Bash. The following script requires uuencode and sends an email with attachments using Bash:
#!/bin/bash PATH=&amp;#34;/usr/local/sbin:/usr/local/bin:/sbin:/bin:/usr/sbin:/usr/bin&amp;#34; EMAIL_OK=&amp;#34;dainese@example.</description></item><item><title>Shrinking VMware VMDK virtual hard disks</title><link>https://www.adainese.it/blog/2012/05/10/shrinking-vmware-vmdk-virtual-hard-disks/</link><pubDate>Thu, 10 May 2012 00:00:00 +0000</pubDate><guid>https://www.adainese.it/blog/2012/05/10/shrinking-vmware-vmdk-virtual-hard-disks/</guid><description>In this post we&amp;rsquo;ll see how to shrink a virtual (VMDK) disk before releasing the OVF/OVA image.
Developing a VM which will be distributed online, require saving space. After deleting cache, log files, and so on, vmdk files won&amp;rsquo;t become smaller.</description></item></channel></rss>